<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<link rel="stylesheet" href="/Comp303FinalProject/styles/main.css"></link>
	<script src="/Comp303FinalProject/scripts/profile.js"></script>
</h:head>
<body>
	<nav>
	<ul>
		<li><a href="/Comp303FinalProject/Profile">Profile</a></li>
		<li><a href="/Comp303FinalProject/Store">Store</a></li>
	</ul>
	</nav>
	<p>Welcome back!</p>
	<div>
		<h4>Profile settings</h4>
		<p>
			<label>Username: ${userBean.username}</label>
		</p>
		<p class="name">
			Name: <span>${userBean.name}</span> <br /> <input type="text" />
			<button>Change</button>
		</p>
	</div>
	<div class="orders">
		<h4>Your order history:</h4>
		<ui:repeat var="orderBean" value="#{orderBeans}">
			<p data-id="#{orderBean.uid}">
				<label><strong>Date:</strong> <h:outputText
						value="#{orderBean.date}" converter="myDateTimeConverter" /></label> <label><strong>Cost:</strong>
					<h:outputText value="#{orderBean.cost}">
						<f:convertNumber type="currency" />
					</h:outputText></label> <br />
				<ui:repeat var="entry" value="#{orderBean.products}">
					<label>#{entry.key}: #{entry.value}</label>
					<br />
				</ui:repeat>
				<button data-id="#{orderBean.uid}" class="cancel">Cancel this order</button>
			</p>
		</ui:repeat>
	</div>
</body>
</html>
